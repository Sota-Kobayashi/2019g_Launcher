/*
 * motor.h
 *
 *  Created on: 2019/02/23
 *      Author: User
 */

#ifndef MYHEADERS_MOTOR_H_
#define MYHEADERS_MOTOR_H_

#include "stm32f4xx.h"
#include "stm32f4xx_conf.h"

class motorControl
{
public:
	motorControl();
	motorControl(uint16_t period, uint16_t frequency);

	enum class driveMode : uint8_t{ SMB, LAP };
	inline void setDriveMode(driveMode setMode) { nowDriveMode = setMode; }
	const driveMode& getNowDriveMode = nowDriveMode;

	void setSpeed(const uint16_t& setValue) const;

	~motorControl();

private:
	driveMode nowDriveMode = driveMode::SMB;
	static constexpr uint16_t defaultPeriod	= 100 - 1;
	static constexpr uint16_t defaultFrequency	= 20000;
	constexpr uint16_t prescara(const uint16_t, const uint16_t) const;
};


#endif /* MYHEADERS_MOTOR_H_ */
