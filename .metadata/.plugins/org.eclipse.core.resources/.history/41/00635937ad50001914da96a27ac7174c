#include "rotary_encoder.h"

void rotaryEncoder::configEncoderInterfaceMode_()
{
	if(useTimer_ == TIM3)RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM3, ENABLE);
	else RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM2, ENABLE);

	TIM_EncoderInterfaceConfig(TIM3 , TIM_EncoderMode_TI12 , TIM_ICPolarity_Rising , TIM_ICPolarity_Rising);
	TIM_Cmd(useTimer_ , ENABLE);

	TIM_SetAutoreload(useTimer_, (uint32_t)UINT16_MAX);

	TIM_SetCounter(useTimer_, 0);
}
